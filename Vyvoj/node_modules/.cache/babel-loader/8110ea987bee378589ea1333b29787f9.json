{"ast":null,"code":"// List hodnot pro tabulku\n// var myList =\n//     [\n//         { id: '1', number: '1111', description: 'Nyt 1' },\n//         { id: '2', number: '222', description: 'Nyt 2' }\n//     ];\nimport jQuery from \"jquery\"; // Loads rivets data from server and fill table\n\nfunction getRivets(callback) {\n  jQuery.ajax({\n    url: '/rivetec/getrivets',\n    success: function success(res) {\n      console.log('rivets portflio', res);\n      callback(res);\n    }\n  });\n} // Builds the HTML Table out of myList json data from Ivy restful service.\n\n\nfunction buildHtmlTable(rivetsData) {\n  var columns = addAllColumnHeaders(rivetsData);\n\n  for (var i = 0; i < rivetsData.length; i++) {\n    var row$ = $('<tr/>');\n\n    for (var colIndex = 0; colIndex < columns.length; colIndex++) {\n      var cellValue = rivetsData[i][columns[colIndex]];\n\n      if (cellValue == null) {\n        cellValue = \"\";\n      }\n\n      row$.append($('<td/>').html(cellValue));\n    }\n\n    $(\"#csvDataTable\").append(row$);\n  }\n}\n\n; // Adds a header row to the table and returns the set of columns.\n// Need to do union of keys from all records as some records may not contain\n// all records\n\nfunction addAllColumnHeaders(myList) {\n  var columnSet = [];\n  var headerTr$ = $('<tr/>');\n\n  for (var i = 0; i < myList.length; i++) {\n    var rowHash = myList[i];\n\n    for (var key in rowHash) {\n      if ($.inArray(key, columnSet) == -1) {\n        columnSet.push(key);\n        headerTr$.append($('<th/>').html(key));\n      }\n    }\n  }\n\n  $(\"#csvDataTable\").append(headerTr$);\n  return columnSet;\n} // vycisteni tabulky\n\n\nfunction clearTable() {\n  $(\"#csvDataTable\").empty();\n}\n\nvar rowID; // Oznaceni radku v tabulce\n\nfunction selectedRowOnTable() {\n  $(\"#csvDataTable tr\").click(function () {\n    $(this).addClass('selected').siblings().removeClass('selected');\n    var value = $(this).find('td:first').html();\n    console.log(value);\n    rowID = value;\n  });\n} // Nacti data CLICK\n\n\n$(\"#btnDataImport\").click(function () {\n  getRivets(function (rivetsData) {\n    clearTable();\n    buildHtmlTable(rivetsData);\n    selectedRowOnTable();\n  });\n});\nexport default \"importCsvData\";","map":{"version":3,"sources":["E:\\GitHub\\FrogeCsConfiguratorRivetec\\Vyvoj\\src\\js\\importCsvData.js"],"names":["jQuery","getRivets","callback","ajax","url","success","res","console","log","buildHtmlTable","rivetsData","columns","addAllColumnHeaders","i","length","row$","$","colIndex","cellValue","append","html","myList","columnSet","headerTr$","rowHash","key","inArray","push","clearTable","empty","rowID","selectedRowOnTable","click","addClass","siblings","removeClass","value","find"],"mappings":"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","sourcesContent":["// List hodnot pro tabulku\r\n// var myList =\r\n//     [\r\n//         { id: '1', number: '1111', description: 'Nyt 1' },\r\n//         { id: '2', number: '222', description: 'Nyt 2' }\r\n//     ];\r\n\r\nimport jQuery from \"jquery\";\r\n// Loads rivets data from server and fill table\r\nfunction getRivets(callback) {\r\n    jQuery.ajax({\r\n        url: '/rivetec/getrivets',\r\n        success: function (res) {\r\n            console.log('rivets portflio', res);\r\n            callback(res);\r\n        }\r\n    });\r\n\r\n}\r\n\r\n\r\n// Builds the HTML Table out of myList json data from Ivy restful service.\r\nfunction buildHtmlTable(rivetsData) {\r\n    var columns = addAllColumnHeaders(rivetsData);\r\n\r\n    for (var i = 0; i < rivetsData.length; i++) {\r\n        var row$ = $('<tr/>');\r\n        for (var colIndex = 0; colIndex < columns.length; colIndex++) {\r\n            var cellValue = rivetsData[i][columns[colIndex]];\r\n\r\n            if (cellValue == null) { cellValue = \"\"; }\r\n\r\n            row$.append($('<td/>').html(cellValue));\r\n        }\r\n        $(\"#csvDataTable\").append(row$);\r\n    }\r\n};\r\n\r\n// Adds a header row to the table and returns the set of columns.\r\n// Need to do union of keys from all records as some records may not contain\r\n// all records\r\nfunction addAllColumnHeaders(myList) {\r\n    var columnSet = [];\r\n    var headerTr$ = $('<tr/>');\r\n\r\n    for (var i = 0; i < myList.length; i++) {\r\n        var rowHash = myList[i];\r\n        for (var key in rowHash) {\r\n            if ($.inArray(key, columnSet) == -1) {\r\n                columnSet.push(key);\r\n                headerTr$.append($('<th/>').html(key));\r\n            }\r\n        }\r\n    }\r\n    $(\"#csvDataTable\").append(headerTr$);\r\n\r\n    return columnSet;\r\n}\r\n\r\n// vycisteni tabulky\r\nfunction clearTable() {\r\n    $(\"#csvDataTable\").empty()\r\n}\r\n\r\nvar rowID;\r\n// Oznaceni radku v tabulce\r\nfunction selectedRowOnTable() {\r\n    $(\"#csvDataTable tr\").click(function () {\r\n        $(this).addClass('selected').siblings().removeClass('selected');\r\n        var value = $(this).find('td:first').html();\r\n        console.log(value);\r\n        rowID = value;\r\n    });\r\n}\r\n\r\n// Nacti data CLICK\r\n$(\"#btnDataImport\").click(function () {\r\n    getRivets(function (rivetsData) {\r\n        clearTable();\r\n        buildHtmlTable(rivetsData);\r\n        selectedRowOnTable();\r\n    })\r\n})\r\n\r\nexport default \"importCsvData\";"]},"metadata":{},"sourceType":"module"}